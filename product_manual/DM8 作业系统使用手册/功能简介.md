

# 功能简介

在管理员的工作中，有许多日常工作都是固定不变的。例如，定期备份数据库，定期生成数据统计报表等等。这些工作既单调又费时，如果这些重复任务能够自动化完成，那就可以节省大量的时间。

DM 的作业系统为用户提供了创建作业，并对作业进行调度执行以完成相应管理任务的功能。可以让这些重复的数据库任务自动完成，实现日常工作自动化。作业系统大致包含作业、警报和操作员三部分。用户需要为作业配置步骤和调度。还可以创建警报，当发生警报时，将警报信息通知操作员，以便操作员能够及时做出响应。

用户通过作业可以实现对数据库的操作，并将作业执行结果以通知的形式反馈到操作员。通过为作业创建灵活的调度方案可以满足在不同时刻运行作业的要求。用户还可以定义警报响应，以便当服务器发生特定的事件时通知操作员或者执行预定义的作业。

为了更好地理解作业与调度，下面介绍一些相关的概念：

## 1.1 操作员

操作员是负责维护 DM 服务器运行实例的个人。在有些企业中，操作员由单独一个人担任。在那些拥有很多服务器的大型企业中，操作员由多人共同担任。在预期的警报（或事件）发生时，可以通过电子邮件或网络发送的方式将警报（或事件）的内容通知到操作员。

## 1.2 作业

作业是由 DM 代理程序按顺序执行的一系列指定的操作。作业可以执行更广泛的活动，包括运行 DMPL/SQL 脚本、定期备份数据库、对数据库数据进行检查等。可以创建作业来执行经常重复和可调度的任务，作业按照一个或多个调度的安排在服务器上执行。作业也可以由一个或多个警报触发执行，并且作业可产生警报以通知用户作业的状态（成功或者失败）。每个作业由一个或多个作业步骤组成，作业步骤是作业对一个数据库或者一个服务器执行的动作。每个作业必须至少有一个作业步骤。

## 1.3 警报

警报是系统中发生的某种事件，如发生了特定的数据库操作，或出错信号，或者是作业的启动、执行完毕等事件。警报主要用于通知指定的操作员，以便其迅速了解系统中发生的状况。可以为警报定义产生的条件，还可以定义当警报产生时系统采取的动作，如通知一个或多个操作员执行某个特定的作业等。

## 1.4 调度

调度是用户定义的一个时间安排，在给定的时刻到来时，系统会启动相关的作业，按作业定义的步骤依次执行。调度可以是一次性的，也可以是周期性的。

## 1.5 作业权限

通常作业的管理是由 DBA 来维护，普通用户没有操作作业的权限，为了让普通用户可以创建、配置和调度作业，需要赋予普通用户管理作业权限：ADMIN
JOB。

例  授权 ADMIN JOB 给用户 NORMAL_USER。

```
GRANT ADMIN JOB TO NORMAL_USER;
```

默认 DBA 拥有全部的作业权限；ADMIN JOB 权限可以添加、配置、调度和删除作业等，但没有作业环境初始化 SP_INIT_JOB_SYS(1)和作业环境销毁 SP_INIT_JOB_SYS(0)的权限。
