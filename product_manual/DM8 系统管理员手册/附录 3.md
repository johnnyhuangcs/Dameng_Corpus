

# 附录 3

## 附录 3 V 视图

本节介绍的视图名称均以 V 开头，因此统称为 V 视图。V 视图均为基于系统数据字典而建立的视图，命名方式为：V+ 数据字典表名。

V 视图的结构和相关数据字典表的结构完全相同。但因为权限不同，拥有不同角色的用户查看到的内容会各不相同。

V 视图的模式名为 SYS。例如：SYS. VSYSOBJECTS。

例 查看 V 视图 VSYSOBJECTS。

```
SELECT * FROM SYS.VSYSOBJECTS;
```

如果系统升级，可使用 SP_INIT_SVI_SYS(1) ;重建所有 V 视图。

### 1. 基础 V 视图

1）与原表内容不同的 V 视图

管理员/审计员/安全员/操作员查看本节的 V 视图可获得和原数据字典表相同的内容。而普通用户在 V 视图中仅能查看到自己相关的信息。

|**序号**|**视图**|**说明**|
|--|--|--|
|1|VSYSACCHISTORIES|结构与用途和 SYSACCHISTORIES 一样|
|2|VSYSRESOURCES|结构与用途和 SYSRESOURCES 一样|
|3|VSYSUSERPROFILES|结构与用途和 SYSUSERPROFILES 一样|
|4|VSYSPWDCHGS|结构与用途和 SYSPWDCHGS 一样|
|5|VSYSPROFILES|结构与用途和 SYSPROFILES 一样|
|6|VSYSOBJECTS|结构与用途和 SYSOBJECTS 一样|
|7|VSYSOPARGS|结构与用途和 SYSOPARGS 一样|


2）与原表内容相同的 V 视图

本节的 V 视图和原数据字典表查看到的内容相同。

|**序号**|**视图**|**说明**|
|--|--|--|
|1|VSYSDEPENDENCIES|结构与用途和 SYSDEPENDENCIES 一样|
|2|VSYSOBJINFOS|结构与用途和 SYSOBJINFOS 一样|
|3|VSYSGRANTS|结构与用途和 SYSGRANTS 一样|
|4|VSYSTEXTS|结构与用途和 SYSTEXTS 一样|
|5|VSYSCOLUMNS|结构与用途和 SYSCOLUMNS 一样|
|6|VSYSCOLINFOS|结构与用途和 SYSCOLINFOS 一样|
|7|VSYSCOLCYT|结构与用途和 SYSCOLCYT 一样|
|8|VSYSFCOLDEFAULT|结构与用途和 SYSFCOLDEFAULT 一样|
|9|VSYSCONTEXTINDEXES|结构与用途和 SYSCONTEXTINDEXES 一样|
|10|VSYSHPARTTABLEINFO|结构与用途和 SYSHPARTTABLEINFO 一样|
|11|VSYSDISTABLEINFO|结构与用途和 SYSDISTABLEINFO 一样|
|12|VSYSCONS|结构与用途和 SYSCONS 一样|
|13|VSYSINDEXES|结构与用途和 SYSINDEXES 一样|
|14|VSYSTABLECOMMENTS|结构与用途和 SYSTABLECOMMENTS 一样|
|15|VSYSCOLUMNCOMMENTS|结构与用途和 SYSCOLUMNCOMMENTS 一样|
|16|VSYSCONTEXTLIBS|结构与用途和 SYSCONTEXTLIBS 一样|
|17|VSYSINJECTHINT|结构与用途和 SYSINJECTHINT 一样|
|18|VSYSOPENHISTORY|结构与用途和 SYSOPENHISTORY 一样|
|19|VSYSMSTATS|结构与用途和 SYSMSTATS 一样|
|20|VSYSSTATPREFS|结构与用途和 SYSSTATPREFS 一样|
|21|VSYSSTATS|结构与用途和 SYSSTATS 一样|
|22|VSYSSTATTABLEIDU|结构与用途和 SYSSTATTABLEIDU 一样|
|23|VSYSTUNINGEXECUTION|结构与用途和 SYSTUNINGEXECUTION 一样|
|24|VSYSTUNINGREPORT|结构与用途和 SYSTUNINGREPORT 一样|
|25|VSYSTUNINGTASK|结构与用途和 SYSTUNINGTASK 一样|
|26|VSYS_REWRITE_EQUIVALENCES|结构与用途和 SYS_REWRITE_EQUIVALENCES 一样。SYS_REWRITE_EQUIVALENCES 请参考《DM8 系统包使用手册》的 DBMS_ADVANCED_REWRITE 包|
|27|VSYSMODIFICATIONS|结构与用途和 SYSMODIFICATIONS 一样|
|28|VSYSPKGPROCINFOS|结构与用途和 SYSPKGPROCINFOS 一样|
|29|VSYSPKGPROCPARAMS|结构与用途和 SYSPKGPROCPARAMS 一样|


3）与原表内容不同的 V 视图

本节的 V 视图和数据字典 SYSOBJECTS 结构完全相同。

管理员/审计员/安全员/操作员查看本节的 SVI 视图可获得和 SYSOBJECTS 一样的内容。而普通用户在 V 视图中仅能查看到自己相关的信息。

|**序号**|**视图**|**说明**|
|--|--|--|
|1|VSYSOBJTABLES|普通用户有权限访问的 SYSOBJECTS 中的表对象|
|2|VSYSOBJVIEWS|普通用户有权限访问的 SYSOBJECTS 中的视图对象|
|3|VSYSOBJINDEXES|普通用户有权限访问的 SYSOBJECTS 中的索引对象|
|4|VSYSOBJCONS|普通用户有权限访问的 SYSOBJECTS 中的约束对象|
|5|VSYSOBJPROCS|普通用户有权限访问的 SYSOBJECTS 中的过程对象|
|6|VSYSOBJPKGS|普通用户有权限访问的 SYSOBJECTS 中的包对象|
|7|VSYSOBJTRIGS|普通用户有权限访问的 SYSOBJECTS 中的触发器对象|


### 2. 安全 V 视图

拥有 DB_POLICY_SVI 角色才可以查看的安全视图。

本节的 V 视图和原数据字典表查看到的内容相同。

|**序号**|**视图**|**说明**|
|--|--|--|
|1|VSYSMACCOMPS|结构与用途和 SYSMACCOMPS 一样|
|2|VSYSMACGRPS|结构与用途和 SYSMACGRPS 一样|
|3|VSYSMACLABELS|结构与用途和 SYSMACLABELS 一样|
|4|VSYSMACLVLS|结构与用途和 SYSMACL 结构与用途 LS 一样|
|5|VSYSMACOBJ|结构与用途和 SYSMACOBJ 一样|
|6|VSYSMACPLYS|结构与用途和 SYSMACPLYS 一样|
|7|VSYSMACTABPLY|结构与用途和 SYSMACTABPLY 一样|
|8|VSYSMACUSRPLY|结构与用途和 SYSMACUSRPLY 一样|


### 3. 审计 V 视图

拥有 DB_AUDIT_SVI 角色权限才可以查看的审计视图。

本节的 V 视图和原数据字典表查看到的内容相同。

|**序号**|**视图**|**说明**|
|--|--|--|
|1|VSYSAUDIT|结构与用途和 SYSAUDIT 一样|
|2|VSYSAUDITRULES|结构与用途和 SYSAUDITRULES 一样|
|3|VSYSAUDITSQLSEQ|结构与用途和 SYSAUDITSQLSEQ 一样|

